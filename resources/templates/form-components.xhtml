<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:xf="http://www.w3.org/2002/xforms"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:ev="http://www.w3.org/2001/xml-events">
<head>
<title>formbuilder components</title>

<xf:model id="components_model" schema="default-components.xsd">
	<xf:instance id="components_instance" xmlns="">
		<data> 
			<text /> 
			<email /> 
			<textarea />
			<secret />
			<multiple_select_minimal />
			<single_select_minimal />
			<multiple_select />
			<single_select /> 
			<upload_file><attachment filename="" content-type="" /></upload_file> 
			<page /> 
		</data>
	</xf:instance>
	<xf:instance id="control-instance">
    	<control xmlns="">
        	<simple-upload-trigger/>
            <add-upload-trigger/>
            <remove-upload-trigger/>
        </control>
    </xf:instance>
    <xf:instance id="file-template">
    	<file xmlns="" filename="" mediatype="" />
    </xf:instance>
	<xf:bind id="text" nodeset="text" type="string" />
	<xf:bind id="textarea" nodeset="textarea" type="string" />
	<xf:bind id="secret" nodeset="secret" type="string" />
	<xf:bind id="multiple_select_minimal" nodeset="multiple_select_minimal"
		type="string" />
	<xf:bind id="single_select_minimal" nodeset="single_select_minimal"
		type="string" />
	<xf:bind id="multiple_select" nodeset="multiple_select" type="string" />
	<xf:bind id="single_select" nodeset="single_select" type="string" />
	<xf:bind id="upload_file" nodeset="upload_file"
		type="xs:base64Binary" />

	<xf:bind id="email" nodeset="email" type="fb_email" />
	<xf:bind id="page" nodeset="page" />

</xf:model>
<xf:model id="data_model">
	<xf:instance id="localized_strings" xmlns="">
		<localized_strings> <current_language>en</current_language>
		<default_language>en</default_language> <lockey_email.title lang="en">Email</lockey_email.title>
		<lockey_email.title lang="is">Email</lockey_email.title> <lockey_email.error
			lang="en">Invalid email</lockey_email.error> <lockey_email.error
			lang="is">Invalid email</lockey_email.error> <lockey_select1_full.title
			lang="en">Radiobutton</lockey_select1_full.title> <lockey_select1_full.title
			lang="is">Radiobutton</lockey_select1_full.title> <lockey_select_full.title
			lang="en">Checkbox</lockey_select_full.title> <lockey_select_full.title
			lang="is">Checkbox</lockey_select_full.title> <lockey_select1_minimal.title
			lang="en">Dropdown menu</lockey_select1_minimal.title> <lockey_select1_minimal.title
			lang="is">Dropdown menu</lockey_select1_minimal.title> <lockey_select_minimal.title
			lang="en">List</lockey_select_minimal.title> <lockey_select_minimal.title
			lang="is">List</lockey_select_minimal.title> <lockey_secret.title
			lang="en">Password input</lockey_secret.title> <lockey_secret.title
			lang="is">Password input</lockey_secret.title> <lockey_textarea.title
			lang="en">Paragraph text input</lockey_textarea.title> <lockey_textarea.title
			lang="is">Paragraph text input</lockey_textarea.title> <lockey_rich_textarea.title
			lang="en">Rich text input</lockey_rich_textarea.title> <lockey_rich_textarea.title
			lang="is">Rich text input</lockey_rich_textarea.title> <lockey_input.title
			lang="en">Simple text input</lockey_input.title> <lockey_input.title
			lang="is">Simple text input</lockey_input.title> <lockey_upload_file.title
			lang="en">File upload</lockey_upload_file.title> <lockey_upload_file.title
			lang="is">File upload</lockey_upload_file.title> <lockey_multi_upload_file.title
			lang="en">Multi upload</lockey_multi_upload_file.title> <lockey_multi_upload_file.title
			lang="is">Multi upload</lockey_multi_upload_file.title> 
			<lockey_page.label lang="en">Section</lockey_page.label>
			<lockey_confirmation_page.label lang="en">Confirmation Section</lockey_confirmation_page.label>
			<lockey_button_next.label lang="en">Next</lockey_button_next.label>
			<lockey_button_previous.label lang="en">Previous</lockey_button_previous.label>
			<lockey_button_submit.label lang="en">Submit</lockey_button_submit.label>
		</localized_strings>
	</xf:instance>
	
	<xf:instance id="components-datatypes-mappings" xmlns="">
		<componentDataTypes>
		
			<component component_id="fbcomp_textarea" accessSupport="rw">
				<datatype>string</datatype>
			</component>
			<component component_id="fbcomp_secret" accessSupport="w">
				<datatype>string</datatype>
			</component>
			<component component_id="fbcomp_multiple_select_minimal" accessSupport="rw">
				<datatype>list</datatype>
			</component>
			<component component_id="fbcomp_single_select_minimal" accessSupport="rw">
				<datatype>string</datatype>
			</component>
			<component component_id="fbcomp_multiple_select" accessSupport="rw">
				<datatype>list</datatype>
			</component>
			<component component_id="fbcomp_single_select" accessSupport="rw">
				<datatype>string</datatype>
			</component>
			<component component_id="fbcomp_email" accessSupport="rw">
				<datatype>string</datatype>
			</component>
			<component component_id="fbcomp_upload_file" accessSupport="w">
				<datatype>file</datatype>
			</component>
			<component component_id="fbcomp_simple_text" accessSupport="r">
				<datatype>string</datatype>
				<datatype>list</datatype>
			</component>
		</componentDataTypes>
	</xf:instance>

	<xf:instance id="datasets_examples" xmlns="">
		<examples> 
			<item id="itemset"> <xf:itemset model="data_model">
				<xf:label ref="item_label" />
				<xf:value ref="item_value" />
			</xf:itemset> </item> 
			<item id="alert"> 
				<xf:alert>
					<xf:output
						ref="instance('localized_strings')/localizedEntries[@lang=instance('localized_strings')/current_language]"
						model="data_model" />
				</xf:alert> 
			</item>
			<item id="help"> 
				<xf:help>
					<xf:output
						ref="instance('localized_strings')/localizedEntries[@lang=instance('localized_strings')/current_language]"
						model="data_model" />
				</xf:help> 
			</item>
			<item id="item_src">
				<item>
					<item_label></item_label>
					<item_value></item_value>
				</item>
			</item> 
			<item id="autofill-model">
				<xf:model id="x-autofill-model">
					<xf:action ev:event="xforms-ready" />
		        </xf:model>
    	    </item>
    	    <item id="toggle-element">
				<xf:toggle ev:event="DOMActivate" />
    	    </item>
    	    <item id="section_item">
				<section selected="false">
	           		<id></id>
	           		<seq_index></seq_index>
	           	</section>
    	    </item>
    	    <item id="sections_visualization_instance_item">
				<xf:instance id="sections_visualization_instance" xmlns="">
	            	<sections>
		            	<class_exp for="true">current</class_exp>
		            	<class_exp for="false"></class_exp>
	            	</sections>
            	</xf:instance>
    	    </item>
    	    <item id="sections_visualization_item">
				<xf:repeat id="sections_visualization" nodeset="instance('sections_visualization_instance')/section" appearance="minimal" model="data_model">
					<xf:output mediatype="text/html" 
					value="concat(
						'&lt;div ',
						'class=&quot;',
						instance('sections_visualization_instance')/class_exp[@for=current()/@selected],
						'&quot;',
						'&gt;', 
						./seq_index,
						'&lt;/div&gt;'
					)" />
	        	</xf:repeat>
    	    </item>
		</examples>
	</xf:instance>

	<xf:instance id="fbcomp_multiple_select_minimal_lds" xmlns="">
		<local_src>
 	       <localizedEntries lang="en">
    	       <item>
        	       <item_label>Change me</item_label>
                   <item_value>changeme</item_value>
               </item>
           </localizedEntries>
        </local_src>
	</xf:instance>
	<xf:instance id="fbcomp_single_select_minimal_lds" xmlns="">
		<local_src>
 	       <localizedEntries lang="en">
    	       <item>
        	       <item_label>Change me</item_label>
                   <item_value>changeme</item_value>
               </item>
           </localizedEntries>
        </local_src>
	</xf:instance>
	<xf:instance id="fbcomp_multiple_select_lds" xmlns="">
		<local_src>
 	       <localizedEntries lang="en">
    	       <item>
        	       <item_label>Change me</item_label>
                   <item_value>changeme</item_value>
               </item>
           </localizedEntries>
        </local_src>
	</xf:instance>
	<xf:instance id="fbcomp_single_select_lds" xmlns="">
		<local_src>
 	       <localizedEntries lang="en">
    	       <item>
        	       <item_label>Change me</item_label>
                   <item_value>changeme</item_value>
               </item>
           </localizedEntries>
        </local_src>
	</xf:instance>
	<xf:instance id="fbcomp_multiple_select_minimal_eds" xmlns="">
		<ext_src> </ext_src>
	</xf:instance>
	<xf:instance id="fbcomp_single_select_minimal_eds" xmlns="">
		<ext_src> </ext_src>
	</xf:instance>
	<xf:instance id="fbcomp_multiple_select_eds" xmlns="">
		<ext_src> </ext_src>
	</xf:instance>
	<xf:instance id="fbcomp_single_select_eds" xmlns="">
		<ext_src> </ext_src>
	</xf:instance>
	
	<xf:instance id="component_categories" xmlns="">
		<category name="basic">
			<component component_id="fbcomp_text" />
			<component component_id="fbcomp_textarea" />
			<component component_id="fbcomp_secret" />
			<component component_id="fbcomp_multiple_select_minimal" />
			<component component_id="fbcomp_single_select_minimal" />
			<component component_id="fbcomp_multiple_select" />
			<component component_id="fbcomp_single_select" />
			<component component_id="fbcomp_email" />
			<component component_id="fbcomp_upload_file" />
		</category>
		<category name="buttons">
			<component component_id="fbcomp_button_next" />
			<component component_id="fbcomp_button_previous" />
			<component component_id="fbcomp_button_submit" />
		</category>
		<category name="non-display">
			<component component_id="fbcomp_button_area" />
			<component component_id="fbcomp_page" />
			<component component_id="fbcomp_confirmation_page" />
		</category>
		<category name="plain">
			<component component_id="fbcomp_simple_text" />
			<component component_id="fbcomp_header_text" />
			<component component_id="fbcomp_separator" />
		</category>
	</xf:instance>
</xf:model>
</head>
<body>
<xf:group appearance="full">
	<xf:group appearance="full">
		<xf:group appearance="full" id="fbcomp_multi_upload_file" bind="multi_upload">
			<tr>
                <td/>
                <td>
                    <xf:group ref="instance('control-instance')/add-upload-trigger">
                        <xf:trigger appearance="minimal">
                            <xf:label><img src="../apps/xforms-upload/images/add.gif"/></xf:label>
                            <xf:insert ev:event="DOMActivate" nodeset="instance('components_instance')/attachment" at="last()" position="after" origin="instance('file-template')"/>
                        </xf:trigger>
                    </xf:group>
                </td>
                <td>
                    <xf:group ref="instance('control-instance')/add-upload-trigger">
                        <xf:trigger appearance="minimal">
                            <xf:label>Add One</xf:label>
                            <xf:insert ev:event="DOMActivate" nodeset="instance('files-instance')/attachment" at="last()" position="after" origin="instance('file-template')"/>
                        </xf:trigger>
                    </xf:group>
                </td>
            </tr>
			<xf:output ref="instance('localized_strings')/lockey_multi_upload_file.title[@lang=instance('localized_strings')/current_language]" model="data_model" />
			<xf:repeat nodeset="file" appearance="full">
	        	<tr>
	            	<td>    
	                    <xf:output value="count(preceding-sibling::file) + 1"/>
	                </td>
	                <td>
	                    <xf:upload ref=".">
							<xf:filename ref="@filename"/>
	                		<xf:mediatype ref="@mediatype"/>
						</xf:upload>
	                </td>
	            </tr>
	        </xf:repeat>
        </xf:group>
		<xf:input bind="text" id="fbcomp_text">
			<xf:label
				ref="instance('localized_strings')/lockey_input.title[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
		</xf:input>
		<xf:textarea bind="textarea" id="fbcomp_textarea">
			<xf:label
				ref="instance('localized_strings')/lockey_textarea.title[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
		</xf:textarea>
		<xf:secret bind="secret" id="fbcomp_secret">
			<xf:label
				ref="instance('localized_strings')/lockey_secret.title[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
		</xf:secret>
		<xf:select bind="multiple_select_minimal"
			id="fbcomp_multiple_select_minimal" appearance="minimal">
			<xf:label
				ref="instance('localized_strings')/lockey_select_minimal.title[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
			<xf:itemset model="data_model" nodeset="instance('fbcomp_multiple_select_minimal_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
	            <xf:label ref="item_label" />
                <xf:value ref="item_value" />
            </xf:itemset>
		</xf:select>
		<xf:select1 bind="single_select_minimal"
			id="fbcomp_single_select_minimal" appearance="minimal">
			<xf:label
				ref="instance('localized_strings')/lockey_select1_minimal.title[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
		</xf:select1>
		<xf:select bind="multiple_select" id="fbcomp_multiple_select"
			appearance="full">
			<xf:label
				ref="instance('localized_strings')/lockey_select_full.title[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
		</xf:select>
		<xf:select1 bind="single_select" id="fbcomp_single_select"
			appearance="full">
			<xf:label
				ref="instance('localized_strings')/lockey_select1_full.title[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
		</xf:select1>
		<xf:input bind="email" id="fbcomp_email">
			<xf:label
				ref="instance('localized_strings')/lockey_email.title[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
			<xf:alert>
				<xf:output
					ref="instance('localized_strings')/lockey_email.error[@lang=instance('localized_strings')/current_language]"
					model="data_model" />
			</xf:alert>
		</xf:input>
		<xf:upload bind="upload_file" id="fbcomp_upload_file">
			<xf:label
				ref="instance('localized_strings')/lockey_upload_file.title[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
			<xf:filename ref="attachment/@filename" />
			<xf:mediatype ref="attachment/@content-type" />
		</xf:upload>
	
		<div id="fbcomp_button_area" name="fbcomp_button_area" class="fbcomp_button_area"></div>
		<div id="fbcomp_simple_text" name="fbcomp_simple_text" class="fbcomp_simple_text">Put your text here</div>
		<div id="fbcomp_header_text" name="fbcomp_header_text" class="fbcomp_header_text">Put your header here</div>
		<hr id="fbcomp_separator" name="fbcomp_separator" class="fbcomp_separator" />
		<xf:group id="fbcomp_page" appearance="full">
			<xf:label 
				ref="instance('localized_strings')/lockey_page.label[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
		</xf:group>
		<xf:group id="fbcomp_confirmation_page" appearance="full" name="fbcomp_confirmation_page">
			<xf:label 
				ref="instance('localized_strings')/lockey_confirmation_page.label[@lang=instance('localized_strings')/current_language]"
				model="data_model" />
		</xf:group>
		<xf:trigger id="fbcomp_button_next" name="fbcomp_button_next">
		  	<xf:label ref="instance('localized_strings')/lockey_button_next.label[@lang=instance('localized_strings')/current_language]" model="data_model" />
	        <xf:toggle ev:event="DOMActivate" />
	        <xf:refresh />
	    </xf:trigger>
	    <xf:trigger id="fbcomp_button_previous" name="fbcomp_button_previous">
			<xf:label ref="instance('localized_strings')/lockey_button_previous.label[@lang=instance('localized_strings')/current_language]" model="data_model" />
	        <xf:toggle ev:event="DOMActivate" />
	        <xf:refresh />
	    </xf:trigger>
	 	<xf:trigger id="fbcomp_button_submit" name="fbcomp_button_submit">
			<xf:label ref="instance('localized_strings')/lockey_button_submit.label[@lang=instance('localized_strings')/current_language]" model="data_model" />
	  	  	<xf:send submission="submit_data_submission" />
	        <xf:toggle ev:event="DOMActivate" />
	    </xf:trigger>
	</xf:group>
</xf:group>
</body>
</html>
